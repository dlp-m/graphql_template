<%%= render(Tables::TableComponent.new) do |table| %>
  <%% table.with_thead do |thead| %>
  <%- class_name.constantize.column_names.each do |column| -%>
    <%%= thead.with_active_record_th(column_name: '<%= column %>', resource_name: '<%= class_name.underscore %>' ) %>
  <%- end -%>
  <%% end %>

  <%% table.with_tbody do |tbody| %>
    <%% @<%= class_name.underscore.pluralize %>&.each_with_index do |<%= class_name.underscore %>, i| %>
      <%%= tbody.with_tr(index: i) do |tr| %>
        <%- class_name.constantize.column_names.each do |column| -%>
          <%%= tr.with_td { <%= class_name.underscore %>.<%= column %>.to_s } -%>
        <%- end -%>
        <%%= tr.with_td do %>
          <%%= link_to admin_<%= class_name.underscore %>_path(<%= class_name.underscore %>), class: "text-indigo-600 hover:text-indigo-900"  do %>
            Détails
          <%% end %>
        <%% end %>
        <%%= tr.with_td do %>
          <%%= link_to admin_<%= class_name.underscore %>_path(<%= class_name.underscore %>),
          class: "text-indigo-600 hover:text-indigo-900",
          data: {turbo_method: :delete, turbo_confirm: "êtes vous sur ?"} do %>
            <%%= render(Icons::TrashComponent.new) %>
          <%% end %>
        <%% end %>
      <%% end %>
    <%% end %>
  <%% end %>
<%% end %>
